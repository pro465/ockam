name: test node start/stop commands

on:
  push:
    branches: [ "node-start-debug" ]
  pull_request:
    branches: [ "node-start-debug" ]

env:
  CARGO_TERM_COLOR: always

jobs:
  lint_cargo_clippy:
    name: Rust - Lint with Cargo Clippy
    runs-on: ubuntu-20.04
    container:
      image: ghcr.io/build-trust/ockam-builder@sha256:e43dd94652096b03cc472a3c709c7335e8b166cab77b7a7b56f88fa38f3d24cc
    steps:
      - uses: Swatinem/rust-cache@v2
      - run: chmod +x test.sh && ./test.sh
